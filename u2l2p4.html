<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أولويّات العمليّات الحسابيّة - أتدرب وأحل مسائل</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        /* Base Reset */
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Body Styling - Matched with Page 3 */
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); /* Dark blue, red, yellow/orange */
            margin: 0;
            padding: 20px;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        /* Container Styling */
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95); /* Slightly translucent white */
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        /* Header Styling - Matched with Page 3 */
        header {
            background: linear-gradient(90deg, #3a7bd5, #00d2ff); /* Blue, light blue */
            color: white;
            padding: 25px 30px;
            text-align: center;
            border-bottom: 5px solid #ffd700; /* Gold/Yellow */
            position: relative;
            overflow: hidden;
        }
        
        /* Header Overlay for visual effect */
        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }
        
        h1 {
            margin: 0;
            font-size: 2.2rem;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-top: 10px;
            position: relative;
            z-index: 2;
        }
        
        /* Instructions Section - Adjusted to match Page 3's light tones */
        .instructions {
            background-color: #fffde7; /* Light yellow from Page 3 example section */
            padding: 15px 25px;
            border-bottom: 2px solid #ffd700; /* Gold/Yellow */
            font-size: 1.1rem;
            line-height: 1.7;
            position: relative;
            z-index: 2;
        }
        
        .exercise-section {
            padding: 25px;
        }
        
        /* Section Title - Matched with Page 3 */
        .section-title {
            color: #3a7bd5; /* Blue */
            border-bottom: 2px solid #ffd700; /* Gold/Yellow */
            padding-bottom: 10px;
            margin-top: 0;
            font-size: 1.8rem;
            text-align: center;
            position: relative;
        }
        
        /* Section Title Underline Effect - Matched with Page 3's blue */
        .section-title::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 40%;
            right: 40%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #3a7bd5, transparent);
        }
        
        /* Individual Exercise Box - Adjusted to match Page 3's section background */
        .exercise {
            background-color: #f0f9ff; /* Very light blue from Page 3 table section */
            border: 1px solid #e0e0e0; /* Neutral light gray from Page 3 section */
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .exercise:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        /* Exercise Title - Matched with Page 3's section title color */
        .exercise-title {
            color: #3a7bd5; /* Blue */
            margin-top: 0;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
        }
        
        /* Exercise Title Bullet - Adjusted to gold for accent */
        .exercise-title::before {
            content: "•";
            color: #ffd700; /* Gold/Yellow */
            font-size: 2rem;
            margin-left: 10px;
        }
        
        /* Exercise Content - Border adjusted to gold for accent */
        .exercise-content {
            font-size: 1.2rem;
            margin-bottom: 20px;
            line-height: 1.8;
            padding: 10px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            border-left: 3px solid #ffd700; /* Gold/Yellow */
        }
        
        .input-group {
            display: flex;
            align-items: center;
            margin: 15px 0;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        /* Input Field Styling - Matched with Page 3 */
        input {
            padding: 12px 15px;
            font-size: 1.1rem;
            border: 2px solid #3a7bd5; /* Blue */
            border-radius: 8px;
            width: 180px;
            transition: all 0.3s;
            background: #fff;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }
        
        input:focus {
            border-color: #00d2ff; /* Light blue on focus */
            outline: none;
            box-shadow: 0 0 0 3px rgba(58, 123, 213, 0.2); /* Blue shadow */
        }
        
        /* Button Styling - Matched with Page 3 */
        button {
            background: linear-gradient(90deg, #3a7bd5, #00d2ff); /* Blue, light blue */
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 5px;
            box-shadow: 0 3px 5px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }
        
        button::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255,255,255,0.1);
            transform: rotate(30deg);
            transition: all 0.5s;
            opacity: 0;
        }
        
        button:hover {
            background: linear-gradient(90deg, #00d2ff, #3a7bd5); /* Light blue, blue on hover */
            transform: translateY(-2px);
            box-shadow: 0 5px 8px rgba(0,0,0,0.3);
        }
        
        button:hover::after {
            opacity: 1;
        }
        
        button:active {
            transform: translateY(1px);
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        
        /* Feedback Styling - Matched with Page 3 */
        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
            font-weight: bold;
            animation: fadeIn 0.5s ease;
            position: relative;
            padding-right: 50px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .correct {
            background: #e8f5e9; /* Light green */
            color: #2e7d32; /* Dark green */
            border: 1px solid #4caf50; /* Green */
        }
        
        .incorrect {
            background: #ffebee; /* Light red */
            color: #d32f2f; /* Dark red */
            border: 1px solid #f44336; /* Red */
        }
        
        /* Solution Box Styling - Matched with Page 3's step-by-step background */
        .solution {
            font-weight: bold;
            margin-top: 10px;
            display: none;
            background: #f0f9ff; /* Light blue */
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3a7bd5; /* Blue */
            animation: fadeIn 0.7s ease;
        }
        
        .solution-title {
            color: #3a7bd5; /* Blue */
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .multiple-inputs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .multiple-inputs input {
            width: 70px;
            text-align: center;
        }
        
        /* Specific Exercise Backgrounds (kept for variety, but adjusted if needed) */
        .nutrition-problem {
            background: linear-gradient(to right, #e8f5e9, #f1f8e9); /* Light greens */
            border: 1px solid #a5d6a7;
        }
        .exercise-13 {
            background: linear-gradient(to right, #fff8e1, #ffecb3); /* Yellows */
            border: 1px solid #ffe082;
        }
        .exercise-14 {
            background: linear-gradient(to right, #f3e5f5, #e1bee7); /* Purples */
            border: 1px solid #ce93d8;
        }
        .brackets-exercise {
            background: linear-gradient(to right, #e0f7fa, #b2ebf2); /* Light blues */
            border: 1px solid #80deea;
        }
        
        /* Math Expression Styling - Adjusted to match Page 3 */
        .math-expression {
            font-size: 1.3rem;
            font-weight: bold;
            color: #1a2a6c; /* Dark blue from body gradient */
            padding: 5px 10px;
            display: inline-block;
            background: rgba(255,215,0,0.1); /* Translucent gold */
            border-radius: 5px;
            margin: 5px 0;
            direction: ltr; /* Ensure LTR for math */
            unicode-bidi: embed;
        }
        
        /* Progress Container Styling - Matched with Page 3's table section background */
        .progress-container {
            background: #f0f9ff; /* Light blue */
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
        }
        
        /* Progress Title - Matched with Page 3's section title color */
        .progress-title {
            color: #3a7bd5; /* Blue */
            margin-top: 0;
            font-size: 1.2rem;
        }
        
        .progress-bar {
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
            position: relative;
        }
        
        /* Progress Fill - Matched with Page 3's header/button gradient */
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3a7bd5, #00d2ff); /* Blue, light blue */
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        /* Progress Text - Matched with Page 3's section title color */
        .progress-text {
            font-weight: bold;
            color: #3a7bd5; /* Blue */
        }
        
        /* Success Message - Adjusted to a vibrant green */
        .success-message {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #4caf50, #81c784); /* Green gradient */
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        /* Control Buttons - Adjusted to match Page 3's button styles */
        .controls button {
            /* Overriding general button styles for specific colors */
            width: auto; /* Allow buttons to size naturally */
            min-width: 150px; /* Ensure a minimum width */
        }

        .controls button:nth-child(1) { /* Reset All button */
            background: linear-gradient(90deg, #f44336, #d32f2f); /* Reds from Page 3 */
        }
        .controls button:nth-child(1):hover {
            background: linear-gradient(90deg, #d32f2f, #f44336);
        }

        .controls button:nth-child(2) { /* Check All button */
            background: linear-gradient(90deg, #4caf50, #2e7d32); /* Greens from Page 3 */
        }
        .controls button:nth-child(2):hover {
            background: linear-gradient(90deg, #2e7d32, #4caf50);
        }

        .controls button:nth-child(3) { /* Show All Solutions button */
            background: linear-gradient(90deg, #ffd700, #ff8c00); /* Gold/Orange from Page 3 nav buttons */
            color: #333; /* Make text dark for contrast */
        }
        .controls button:nth-child(3):hover {
            background: linear-gradient(90deg, #ff8c00, #ffd700);
            color: white; /* Change text to white on hover */
        }

        /* Math Icon - Adjusted to new blue */
        .math-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            color: rgba(58, 123, 213, 0.1); /* Matching new blue, translucent */
        }

        /* Footer Styling */
        footer {
            text-align: center;
            padding: 20px;
            background: linear-gradient(90deg, #3a7bd5, #00d2ff); /* Blue, light blue */
            color: white;
            font-size: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            border-top-left-radius: 15px; /* Match container border radius */
            border-top-right-radius: 15px; /* Match container border radius */
        }

        /* Navigation Buttons Styling */
        .navigation-buttons {
            display: flex;
            justify-content: center;
            gap: 15px; /* Space between buttons */
            width: 100%;
            max-width: 600px;
            margin-top: 15px;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
        }

        .nav-btn {
            display: inline-flex;
            align-items: center;
            padding: 12px 25px;
            background: linear-gradient(90deg, #ffd700, #ff8c00); /* Gold to Orange */
            color: #333; /* Dark text for contrast */
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            background: linear-gradient(90deg, #ff8c00, #ffd700); /* Reverse gradient on hover */
            color: white; /* White text on hover */
        }

        /* Icon spacing for navigation buttons */
        .nav-btn .fa-arrow-right {
            margin-left: 8px; /* Space after icon for RTL */
        }
        .nav-btn .fa-arrow-left {
            margin-right: 8px; /* Space before icon for RTL */
        }
        
        @media (max-width: 768px) {
            .input-group {
                flex-direction: column;
                align-items: flex-start;
            }
            input {
                width: 100%;
            }
            .controls {
                flex-direction: column;
                align-items: center;
            }
            button {
                width: 100%;
            }
            .exercise-title {
                font-size: 1.3rem;
            }
            .exercise-content {
                font-size: 1.1rem;
            }
            /* Adjust navigation buttons for smaller screens */
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            .nav-btn {
                width: 100%; /* Full width buttons */
                justify-content: center; /* Center text and icon */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>أولويّات العمليّات الحسابيّة</h1>
            <div class="subtitle">أتدرب وأحل مسائل - الصفحة الرابعة</div>
        </header>
        
        <div class="instructions">
            <p><strong>تذكّر أولويات العمليات:</strong></p>
            <ol>
                <li>أحسب قيم المقادير داخل الأقواس</li>
                <li>أحسب قيم المقادير الأسّية جميعها</li>
                <li>أضرب أو أقسم من اليسار إلى اليمين (أيهما أسبق)</li>
                <li>أجمع أو أطرح من اليسار إلى اليمين (أيهما أسبق)</li>
            </ol>
            <p class="math-expression">مثال: \( 12 + (3 \times 4)^2 \div 6 - 5 \)</p>
        </div>
        
        <div class="exercise-section">
            <h2 class="section-title">التمارين (1-8)</h2>
            
            <!-- Exercise 1 -->
            <div class="exercise">
                <div class="math-icon">∑</div>
                <h3 class="exercise-title">تمرين 1</h3>
                <div class="exercise-content">أجد قيمة: \( 120 \div (10 - (7 - 2)) \)</div>
                <div class="input-group">
                    <input type="number" id="ex1-answer" placeholder="الإجابة">
                    <button onclick="checkAnswer(1)">تحقق</button>
                    <button onclick="showSolution(1)" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="ex1-feedback" class="feedback"></div>
                <div id="ex1-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p>1. نبدأ بالأقواس الداخلية: \( 7 - 2 = 5 \)</p>
                    <p>2. ثم الأقواس الخارجية: \( 10 - 5 = 5 \)</p>
                    <p>3. ثم القسمة: \( 120 \div 5 = 24 \)</p>
                    <p>الإجابة النهائية: 24</p>
                </div>
            </div>
            
            <!-- Exercise 2 -->
            <div class="exercise">
                <div class="math-icon">π</div>
                <h3 class="exercise-title">تمرين 2</h3>
                <div class="exercise-content">أجد قيمة: \( 200 \times (25 - (20 - 5)) \)</div>
                <div class="input-group">
                    <input type="number" id="ex2-answer" placeholder="الإجابة">
                    <button onclick="checkAnswer(2)">تحقق</button>
                    <button onclick="showSolution(2)" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="ex2-feedback" class="feedback"></div>
                <div id="ex2-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p>1. نبدأ بالأقواس الداخلية: \( 20 - 5 = 15 \)</p>
                    <p>2. ثم الأقواس الخارجية: \( 25 - 15 = 10 \)</p>
                    <p>3. ثم الضرب: \( 200 \times 10 = 2000 \)</p>
                    <p>الإجابة النهائية: 2000</p>
                </div>
            </div>
            
            <!-- Exercise 3 -->
            <div class="exercise">
                <div class="math-icon">∫</div>
                <h3 class="exercise-title">تمرين 3</h3>
                <div class="exercise-content">أجد قيمة: \( 6 \times (-2)^3 + 10 \)</div>
                <div class="input-group">
                    <input type="number" id="ex3-answer" placeholder="الإجابة">
                    <button onclick="checkAnswer(3)">تحقق</button>
                    <button onclick="showSolution(3)" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="ex3-feedback" class="feedback"></div>
                <div id="ex3-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p>1. نبدأ بالأسس: \( (-2)^3 = -8 \)</p>
                    <p>2. ثم الضرب: \( 6 \times (-8) = -48 \)</p>
                    <p>3. ثم الجمع: \( -48 + 10 = -38 \)</p>
                    <p>الإجابة النهائية: -38</p>
                </div>
            </div>
            
            <!-- Exercise 4 -->
            <div class="exercise">
                <div class="math-icon">√</div>
                <h3 class="exercise-title">تمرين 4</h3>
                <div class="exercise-content">أجد قيمة: \( 4 \times (7 - 1)^2 - 34 \)</div>
                <div class="input-group">
                    <input type="number" id="ex4-answer" placeholder="الإجابة">
                    <button onclick="checkAnswer(4)">تحقق</button>
                    <button onclick="showSolution(4)" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="ex4-feedback" class="feedback"></div>
                <div id="ex4-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p>1. نبدأ بالأقواس: \( 7 - 1 = 6 \)</p>
                    <p>2. ثم الأسس: \( 6^2 = 36 \)</p>
                    <p>3. ثم الضرب: \( 4 \times 36 = 144 \)</p>
                    <p>4. ثم الطرح: \( 144 - 34 = 110 \)</p>
                    <p>الإجابة النهائية: 110</p>
                </div>
            </div>
            
            <!-- Exercise 5 -->
            <div class="exercise">
                <div class="math-icon">∞</div>
                <h3 class="exercise-title">تمرين 5</h3>
                <div class="exercise-content">أجد قيمة: \( 128 \div \left[(-2)^2\right]^3 + (10 - 6) \)</div>
                <div class="input-group">
                    <input type="number" id="ex5-answer" placeholder="الإجابة">
                    <button onclick="checkAnswer(5)">تحقق</button>
                    <button onclick="showSolution(5)" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="ex5-feedback" class="feedback"></div>
                <div id="ex5-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p>1. نبدأ بالأقواس: \( (-2)^2 = 4 \)</p>
                    <p>2. ثم الأسس: \( [4]^3 = 64 \)</p>
                    <p>3. ثم القسمة: \( 128 \div 64 = 2 \)</p>
                    <p>4. الأقواس الأخرى: \( 10 - 6 = 4 \)</p>
                    <p>5. ثم الجمع: \( 2 + 4 = 6 \)</p>
                    <p>الإجابة النهائية: 6</p>
                </div>
            </div>
            
            <!-- Exercise 6 -->
            <div class="exercise">
                <div class="math-icon">θ</div>
                <h3 class="exercise-title">تمرين 6</h3>
                <div class="exercise-content">أجد قيمة: \( 625 \div (5)^3 + (4 + 2) \)</div>
                <div class="input-group">
                    <input type="number" id="ex6-answer" placeholder="الإجابة">
                    <button onclick="checkAnswer(6)">تحقق</button>
                    <button onclick="showSolution(6)" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="ex6-feedback" class="feedback"></div>
                <div id="ex6-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p>1. نبدأ بالأسس: \( (5)^3 = 125 \)</p>
                    <p>2. ثم القسمة: \( 625 \div 125 = 5 \)</p>
                    <p>3. الأقواس: \( 4 + 2 = 6 \)</p>
                    <p>4. ثم الجمع: \( 5 + 6 = 11 \)</p>
                    <p>الإجابة النهائية: 11</p>
                </div>
            </div>
            
            <!-- Exercise 7 - UPDATED -->
            <div class="exercise">
                <div class="math-icon">∆</div>
                <h3 class="exercise-title">تمرين 7</h3>
                <div class="exercise-content">أجد قيمة: \( \frac{60 - 2 \times 6}{2^5 - 4^2} \)</div>
                <div class="input-group">
                    <input type="number" id="ex7-answer" placeholder="الإجابة">
                    <button onclick="checkAnswer(7)">تحقق</button>
                    <button onclick="showSolution(7)" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="ex7-feedback" class="feedback"></div>
                <div id="ex7-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p><strong>البسط:</strong></p>
                    <p>1. الضرب: \( 2 \times 6 = 12 \)</p>
                    <p>2. الطرح: \( 60 - 12 = 48 \)</p>
                    <p><strong>المقام:</strong></p>
                    <p>1. الأسس: \( 2^5 = 32 \)</p>
                    <p>2. الأسس: \( 4^2 = 16 \)</p>
                    <p>3. الطرح: \( 32 - 16 = 16 \)</p>
                    <p><strong>القسمة النهائية:</strong> \( 48 \div 16 = 3 \)</p>
                    <p>الإجابة النهائية: 3</p>
                </div>
            </div>
            
            <!-- Exercise 8 - UPDATED -->
            <div class="exercise">
                <div class="math-icon">≈</div>
                <h3 class="exercise-title">تمرين 8</h3>
                <div class="exercise-content">أجد قيمة: \( \frac{50 - 6 \times 3}{20 - 6^2} \)</div>
                <div class="input-group">
                    <input type="number" id="ex8-answer" placeholder="الإجابة">
                    <button onclick="checkAnswer(8)">تحقق</button>
                    <button onclick="showSolution(8)" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="ex8-feedback" class="feedback"></div>
                <div id="ex8-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p><strong>البسط:</strong></p>
                    <p>1. الضرب: \( 6 \times 3 = 18 \)</p>
                    <p>2. الطرح: \( 50 - 18 = 32 \)</p>
                    <p><strong>المقام:</strong></p>
                    <p>1. الأسس: \( 6^2 = 36 \)</p>
                    <p>2. الطرح: \( 20 - 36 = -16 \)</p>
                    <p><strong>القسمة النهائية:</strong> \( 32 \div (-16) = -2 \)</p>
                    <p>الإجابة النهائية: -2</p>
                </div>
            </div>
            
            <!-- Nutrition Problem -->
            <div class="exercise nutrition-problem">
                <div class="math-icon">α</div>
                <h3 class="exercise-title">مسألة التغذية</h3>
                <div class="exercise-content">
                    <p>إذا كانت كمية البروتين الموجودة في حبة واحدة من النّصوص 1.81 gm، وفي كوب من الحليب 7.6 gm، وفي البيضة الواحدة 12.56 gm.</p>
                    <p>إذا تناول حسّان على وجبة الفطور 3 حبات من النصوص ونصف كوب من الحليب وببيضة، فما كمية البروتين التي حصل عليها من وجبيته؟</p>
                </div>
                <div class="input-group">
                    <input type="number" step="0.01" id="nutrition-answer" placeholder="الإجابة (gm)">
                    <button onclick="checkNutrition()">تحقق</button>
                    <button onclick="showNutritionSolution()" class="solution-btn">إظهار الحل</button>
                </div>
                <div id="nutrition-feedback" class="feedback"></div>
                <div id="nutrition-solution" class="solution">
                    <div class="solution-title">الحل التفصيلي:</div>
                    <p>1. البروتين من النصوص: \( 3 \times 1.81 = 5.43 \) جرام</p>
                    <p>2. البروتين من الحليب: \( \frac{1}{2} \times 7.6 = 3.8 \) جرام</p>
                    <p>3. البروتين من البيضة: \( 1 \times 12.56 = 12.56 \) جرام</p>
                    <p>4. المجموع: \( 5.43 + 3.8 + 12.56 = 21.79 \) جرام</p>
                    <p>الإجابة النهائية: 21.79 جرام</p>
                </div>
            </div>
            
            <div class="progress-container">
                <h3 class="progress-title">تقدمك في حل التمارين</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">0% مكتمل</div>
            </div>
            
            <div class="success-message" id="success-message">
                <h3>🎉 أحسنت! لقد أكملت جميع التمارين بنجاح 🎉</h3>
                <p>لقد أظهرت فهمًا ممتازًا لأولويات العمليات الحسابية. استمر في التميز!</p>
            </div>
            
            <div class="controls">
                <button onclick="resetAll()">إعادة تعيين الكل</button>
                <button onclick="checkAll()">تحقق من جميع الإجابات</button>
                <button onclick="showAllSolutions()">إظهار جميع الحلول</button>
            </div>
        </div>
    </div>

    <footer>
        <p>أولويات العمليات الحسابية - أتدرب وأحل مسائل</p>
        <p>الصف السابع - الرياضيات</p>
        <div class="navigation-buttons">
            <a href="u2l2p3.html" class="nav-btn"><i class="fas fa-arrow-right"></i> الصفحة السابقة</a>
            <a href="u2.html" class="nav-btn">الصفحة الرئيسية <i class="fas fa-home"></i></a>
            <a href="u2l2p5.html" class="nav-btn">الصفحة التالية <i class="fas fa-arrow-left"></i></a>
        </div>
    </footer>

    <script>
        // Answers for exercises 1-8 (removed 9 and 10)
        const answers = {
            1: 24,        // 120 ÷ (10 - (7-2)) = 120 ÷ (10-5) = 120 ÷ 5 = 24
            2: 2000,      // 200 × (25 - (20-5)) = 200 × (25-15) = 200 × 10 = 2000
            3: -38,       // 6 × (-8) + 10 = -48 + 10 = -38
            4: 110,       // 4 × (6)^2 - 34 = 4 × 36 - 34 = 144 - 34 = 110
            5: 6,         // 128 ÷ (4)^3 + 4 = 128 ÷ 64 + 4 = 2 + 4 = 6
            6: 11,        // 625 ÷ 125 + 6 = 5 + 6 = 11
            7: 3,         // (60 - 2 * 6) / (2^5 - 4^2) = (60 - 12) / (32 - 16) = 48 / 16 = 3
            8: -2         // (50 - 6 * 3) / (20 - 6^2) = (50 - 18) / (20 - 36) = 32 / -16 = -2
        };
        
        // Nutrition problem solution
        const nutritionSolution = 3 * 1.81 + (7.6 / 2) + 12.56; // 5.43 + 3.8 + 12.56 = 21.79
        
        // Track completed exercises
        const completed = {};
        
        function updateProgress() {
            // Total exercises is now 8 (from 1-8) + 1 (nutrition problem) = 9
            const totalExercises = Object.keys(answers).length + 1; 
            let completedCount = 0;
            
            for (let i = 1; i <= 8; i++) { // Loop up to 8 now
                if (completed[i]) completedCount++;
            }
            
            if (completed['nutrition']) completedCount++;
            
            const percentage = Math.round((completedCount / totalExercises) * 100);
            document.getElementById('progress-fill').style.width = `${percentage}%`;
            document.getElementById('progress-text').textContent = `${percentage}% مكتمل`;
            
            if (completedCount === totalExercises) {
                document.getElementById('success-message').style.display = 'block';
            }
        }
        
        function checkAnswer(exerciseNumber) {
            const input = document.getElementById(`ex${exerciseNumber}-answer`);
            const feedback = document.getElementById(`ex${exerciseNumber}-feedback`);
            const solution = document.getElementById(`ex${exerciseNumber}-solution`);
            
            const userAnswer = parseFloat(input.value);
            const correctAnswer = answers[exerciseNumber];
            
            if (isNaN(userAnswer)) {
                feedback.textContent = "الرجاء إدخال إجابة صحيحة";
                feedback.className = "feedback incorrect";
                feedback.style.display = "block";
                solution.style.display = "none";
                return;
            }
            
            if (Math.abs(userAnswer - correctAnswer) < 0.001) {
                feedback.textContent = "إجابة صحيحة! أحسنت!";
                feedback.className = "feedback correct";
                solution.style.display = "none";
                completed[exerciseNumber] = true;
            } else {
                feedback.textContent = "إجابة غير صحيحة. حاول مرة أخرى!";
                feedback.className = "feedback incorrect";
                solution.style.display = "block";
            }
            
            feedback.style.display = "block";
            updateProgress();
        }
        
        function checkNutrition() {
            const input = document.getElementById("nutrition-answer");
            const feedback = document.getElementById("nutrition-feedback");
            const solution = document.getElementById("nutrition-solution");
            
            const userAnswer = parseFloat(input.value);
            
            if (isNaN(userAnswer)) {
                feedback.textContent = "الرجاء إدخال إجابة صحيحة";
                feedback.className = "feedback incorrect";
                feedback.style.display = "block";
                solution.style.display = "none";
                return;
            }
            
            if (Math.abs(userAnswer - nutritionSolution) < 0.01) {
                feedback.textContent = "إجابة صحيحة! أحسنت!";
                feedback.className = "feedback correct";
                solution.style.display = "none";
                completed['nutrition'] = true;
            } else {
                feedback.textContent = "إجابة غير صحيحة. حاول مرة أخرى!";
                feedback.className = "feedback incorrect";
                solution.style.display = "block";
            }
            
            feedback.style.display = "block";
            updateProgress();
        }
        
        function showSolution(exerciseNumber) {
            const solution = document.getElementById(`ex${exerciseNumber}-solution`);
            solution.style.display = "block";
        }
        
        function showNutritionSolution() {
            const solution = document.getElementById("nutrition-solution");
            solution.style.display = "block";
        }
        
        function resetAll() {
            // Reset inputs for exercises 1-8
            for (let i = 1; i <= 8; i++) {
                document.getElementById(`ex${i}-answer`).value = '';
                document.getElementById(`ex${i}-feedback`).style.display = 'none';
                document.getElementById(`ex${i}-solution`).style.display = 'none';
            }
            
            document.getElementById("nutrition-answer").value = '';
            document.getElementById("nutrition-feedback").style.display = 'none';
            document.getElementById("nutrition-solution").style.display = 'none';
            
            // Reset progress
            for (let key in completed) {
                delete completed[key];
            }
            
            document.getElementById('success-message').style.display = 'none';
            document.getElementById('progress-fill').style.width = '0%';
            document.getElementById('progress-text').textContent = '0% مكتمل';
        }
        
        function checkAll() {
            for (let i = 1; i <= 8; i++) { // Loop up to 8 now
                const input = document.getElementById(`ex${i}-answer`);
                if (input.value) {
                    checkAnswer(i);
                }
            }
            
            const nutritionInput = document.getElementById("nutrition-answer");
            if (nutritionInput.value) {
                checkNutrition();
            }
        }
        
        function showAllSolutions() {
            for (let i = 1; i <= 8; i++) { // Loop up to 8 now
                showSolution(i);
            }
            showNutritionSolution();
        }
        
        // Initialize MathJax configuration
        MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true,
                tags: 'ams'
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            chtml: {
                scale: 1.1,
                minScale: 0.8
            },
            startup: {
                ready: () => {
                    MathJax.startup.defaultReady();
                    MathJax.startup.promise.then(() => {
                        console.log('MathJax is ready!');
                    });
                }
            }
        };
    </script>
</body>
</html>